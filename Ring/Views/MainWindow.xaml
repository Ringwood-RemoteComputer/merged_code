<Window x:Class="Ring.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:views="clr-namespace:Ring.Views.Dashboard"
        xmlns:userControls="clr-namespace:Ring.Views.UserControls"
        Title="Industrial Control System" Height="900" Width="1400"
        WindowStartupLocation="CenterScreen" 
        WindowStyle="None" ResizeMode="CanResizeWithGrip" 
        Background="#F5F5F5" FontFamily="Segoe UI" FontSize="14"
        Icon="pack://application:,,,/Images/RW-Blue.ico">

    <Grid Margin="5">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Nav Bar -->
        <userControls:NavBar x:Name="NavBar" Grid.Column="0" />

        <!-- Main Content Area -->
        <Grid Grid.Column="1" MouseLeftButtonDown="MainContent_MouseLeftButtonDown">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="#1E3A8A" Padding="20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Logo and Title -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <Image Source="pack://application:,,,/Images/BannerRingwood.png" Width="150" Height="80" Margin="0,0,15,0" Stretch="Uniform"/>
                        <StackPanel>
                            <TextBlock Text="Industrial Control System" 
                                       Foreground="White" FontSize="24" FontWeight="Bold"/>
                            <TextBlock Text="Advanced Process Monitoring" 
                                       Foreground="#B3FFFFFF" FontSize="14" Margin="0,5,0,0"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- System Status -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="20,0">
                        <Ellipse Width="12" Height="12" Fill="#10B981" Margin="0,0,8,0"/>
                        <TextBlock Text="System Online" Foreground="White" FontSize="16" VerticalAlignment="Center" Margin="0,0,20,0"/>
                        <Button x:Name="SimulationToggleButton" Content="Simulation Mode" 
                                Click="ToggleSimulationMode_Click"
                                Background="White" Foreground="#1A3A8A" 
                                BorderThickness="1" BorderBrush="#1A3A8A"
                                Padding="10,5" FontSize="12" FontWeight="SemiBold"
                                Cursor="Hand" VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Time and Controls -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock x:Name="SystemTimeText" Text="{Binding Source={x:Static sys:DateTime.Now}, StringFormat='yyyy-MM-dd HH:mm:ss'}" 
                                   Foreground="White" FontSize="14" Margin="0,0,20,0"/>
                        <Button Content="🗕" Margin="5" Click="Minimize_Click" 
                                Background="Transparent" Foreground="White" BorderThickness="0" FontSize="16"/>
                        <Button Content="🗖" Margin="5" Click="Maximize_Click" 
                                Background="Transparent" Foreground="White" BorderThickness="0" FontSize="16"/>
                        <Button Content="✕" Margin="5" Click="Close_Click" 
                                Background="Transparent" Foreground="White" BorderThickness="0" FontSize="16"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Main Content Area - Dashboard View -->
            <ContentControl x:Name="MainContentArea" Grid.Row="1">
                <views:DashboardView />
            </ContentControl>
        </Grid>
    </Grid>
</Window>
