<Window x:Class="Ring.Views.BatchReportWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Ring.Views"
        mc:Ignorable="d"
        Title="Batch Report Manager" 
        Height="800" 
        Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5"
        FontFamily="Segoe UI"
        FontSize="12">
    
    <Window.Resources>
        <!-- Modern Button Style -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1976D2"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#1565C0"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#CCCCCC"/>
                                <Setter Property="Foreground" Value="#666666"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Success Button Style -->
        <Style x:Key="SuccessButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Background" Value="#4CAF50"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#45A049"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Warning Button Style -->
        <Style x:Key="WarningButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Background" Value="#FF9800"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#F57C00"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Danger Button Style -->
        <Style x:Key="DangerButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Background" Value="#F44336"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#D32F2F"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Modern TextBox Style -->
        <Style x:Key="ModernTextBoxStyle" TargetType="TextBox">
            <Setter Property="Padding" Value="8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                        Margin="{TemplateBinding Padding}"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern ComboBox Style -->
        <Style x:Key="ModernComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Padding" Value="8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>

        <!-- Modern DataGrid Style -->
        <Style x:Key="ModernDataGridStyle" TargetType="DataGrid">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#E0E0E0"/>
            <Setter Property="VerticalGridLinesBrush" Value="#E0E0E0"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="CanUserReorderColumns" Value="True"/>
            <Setter Property="CanUserResizeColumns" Value="True"/>
            <Setter Property="CanUserSortColumns" Value="True"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="RowHeight" Value="32"/>
        </Style>

        <!-- Status Indicator Style -->
        <Style x:Key="StatusIndicatorStyle" TargetType="Border">
            <Setter Property="Width" Value="12"/>
            <Setter Property="Height" Value="12"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Margin" Value="4,0"/>
        </Style>

        <!-- Progress Bar Style -->
        <Style x:Key="ModernProgressBarStyle" TargetType="ProgressBar">
            <Setter Property="Height" Value="8"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="#E0E0E0"/>
            <Setter Property="Foreground" Value="#2196F3"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header Section -->
        <Border Grid.Row="0" Background="#1976D2" Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="Batch Report Manager" 
                             FontSize="24" 
                             FontWeight="Bold" 
                             Foreground="White"/>
                    <TextBlock Text="RS3000 - CTC Waco, TX" 
                             FontSize="14" 
                             Foreground="#E3F2FD" 
                             Margin="0,4,0,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding StatusMessage}" 
                             FontSize="12" 
                             Foreground="#E3F2FD" 
                             HorizontalAlignment="Right"/>
                    <TextBlock Text="{Binding ReportGenerationStatus}" 
                             FontSize="11" 
                             Foreground="#BBDEFB" 
                             HorizontalAlignment="Right" 
                             Margin="0,2,0,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Search and Filter Section -->
        <Border Grid.Row="1" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" Padding="20,15">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Search Controls -->
                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" 
                             Text="Search &amp; Filter Criteria" 
                             FontWeight="SemiBold" 
                             FontSize="14" 
                             VerticalAlignment="Center" 
                             Margin="0,0,15,0"/>

                    <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0,0,15,0">
                        <DatePicker x:Name="StartDatePicker" 
                                  SelectedDate="{Binding StartDate}" 
                                  Width="120" 
                                  Margin="0,0,10,0"/>
                        <DatePicker x:Name="EndDatePicker" 
                                  SelectedDate="{Binding EndDate}" 
                                  Width="120" 
                                  Margin="0,0,10,0"/>
                        <ComboBox x:Name="FormulaComboBox" 
                                SelectedValue="{Binding SelectedFormulaNumber}" 
                                Width="100" 
                                Margin="0,0,10,0" 
                                Style="{StaticResource ModernComboBoxStyle}">
                            <ComboBoxItem Content="All Formulas" Tag="0"/>
                            <ComboBoxItem Content="Formula 1001" Tag="1001"/>
                            <ComboBoxItem Content="Formula 1002" Tag="1002"/>
                            <ComboBoxItem Content="Formula 1003" Tag="1003"/>
                        </ComboBox>
                        <ComboBox x:Name="TankComboBox" 
                                SelectedValue="{Binding SelectedStorageTankNumber}" 
                                Width="100" 
                                Margin="0,0,10,0" 
                                Style="{StaticResource ModernComboBoxStyle}">
                            <ComboBoxItem Content="All Tanks" Tag="0"/>
                            <ComboBoxItem Content="Tank 1" Tag="1"/>
                            <ComboBoxItem Content="Tank 2" Tag="2"/>
                            <ComboBoxItem Content="Tank 3" Tag="3"/>
                        </ComboBox>
                        <ComboBox x:Name="StatusComboBox" 
                                SelectedValue="{Binding SelectedStatus}" 
                                Width="100" 
                                Margin="0,0,10,0" 
                                Style="{StaticResource ModernComboBoxStyle}">
                            <ComboBoxItem Content="All Status" Tag="-1"/>
                            <ComboBoxItem Content="In Progress" Tag="0"/>
                            <ComboBoxItem Content="Completed" Tag="1"/>
                            <ComboBoxItem Content="Failed" Tag="2"/>
                        </ComboBox>
                        <TextBox x:Name="SearchTextBox" 
                               Text="{Binding SearchText}" 
                               Width="150" 
                               Style="{StaticResource ModernTextBoxStyle}"
                               Tag="Search text..."/>
                    </StackPanel>

                    <StackPanel Grid.Column="2" Orientation="Horizontal">
                        <Button Content="Search" 
                              Command="{Binding SearchReportsCommand}" 
                              Style="{StaticResource ModernButtonStyle}" 
                              Width="80"/>
                        <Button Content="Clear" 
                              Command="{Binding ClearSearchCommand}" 
                              Style="{StaticResource WarningButtonStyle}" 
                              Width="80" 
                              Margin="5,0,0,0"/>
                        <Button Content="Refresh" 
                              Command="{Binding RefreshCommand}" 
                              Style="{StaticResource ModernButtonStyle}" 
                              Width="80" 
                              Margin="5,0,0,0"/>
                    </StackPanel>
                </Grid>

                <!-- Report Generation Controls -->
                <Grid Grid.Row="1" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Orientation="Horizontal">
                        <TextBlock Text="PCID:" 
                                 FontWeight="SemiBold" 
                                 VerticalAlignment="Center" 
                                 Margin="0,0,5,0"/>
                        <TextBox x:Name="PCIDTextBox" 
                               Text="{Binding SelectedPCID}" 
                               Width="80" 
                               Style="{StaticResource ModernTextBoxStyle}"/>
                        <CheckBox x:Name="BasicNamesCheckBox" 
                                Content="Use Basic Names" 
                                IsChecked="{Binding UseBasicNames}" 
                                Margin="15,0,0,0" 
                                VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Grid.Column="2" Orientation="Horizontal">
                        <Button Content="Generate Report" 
                              Command="{Binding GenerateReportCommand}" 
                              Style="{StaticResource SuccessButtonStyle}" 
                              Width="120" 
                              Margin="0,0,5,0"/>
                        <Button Content="Export" 
                              Command="{Binding ExportReportCommand}" 
                              Style="{StaticResource ModernButtonStyle}" 
                              Width="80" 
                              Margin="0,0,5,0"/>
                        <Button Content="Print" 
                              Command="{Binding PrintReportCommand}" 
                              Style="{StaticResource ModernButtonStyle}" 
                              Width="80"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Batch Reports List -->
            <Border Grid.Column="0" Background="White" BorderBrush="#E0E0E0" BorderThickness="1" Margin="10">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Batch Reports Header -->
                    <Border Grid.Row="0" Background="#F5F5F5" Padding="15,10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                                     Text="Batch Reports" 
                                     FontWeight="SemiBold" 
                                     FontSize="14"/>
                            <TextBlock Grid.Column="1" 
                                     Text="{Binding BatchReports.Count, StringFormat='Count: {0}'}" 
                                     FontSize="12" 
                                     Foreground="#666666"/>
                        </Grid>
                    </Border>

                    <!-- Batch Reports DataGrid -->
                    <DataGrid Grid.Row="1" 
                            ItemsSource="{Binding BatchReports}" 
                            SelectedItem="{Binding SelectedBatchReport}" 
                            Style="{StaticResource ModernDataGridStyle}">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="PCID" 
                                              Binding="{Binding BatchId}" 
                                              Width="60"/>
                            <DataGridTextColumn Header="Formula" 
                                              Binding="{Binding FormulaName}" 
                                              Width="120"/>
                            <DataGridTextColumn Header="Tank" 
                                              Binding="{Binding StorageTankName}" 
                                              Width="80"/>
                            <DataGridTextColumn Header="Start Time" 
                                              Binding="{Binding FormattedStartDateTime}" 
                                              Width="120"/>
                            <DataGridTextColumn Header="Duration" 
                                              Binding="{Binding FormattedDuration}" 
                                              Width="80"/>
                            <DataGridTextColumn Header="Volume" 
                                              Binding="{Binding FormattedVolume}" 
                                              Width="80"/>
                            <DataGridTextColumn Header="Status" 
                                              Binding="{Binding StatusDisplayText}" 
                                              Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </Border>

            <!-- Batch Steps and Ingredients -->
            <Grid Grid.Column="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="5"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Batch Steps -->
                <Border Grid.Row="0" Background="White" BorderBrush="#E0E0E0" BorderThickness="1" Margin="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Batch Steps Header -->
                        <Border Grid.Row="0" Background="#F5F5F5" Padding="15,10">
                            <TextBlock Text="Batch Steps" 
                                     FontWeight="SemiBold" 
                                     FontSize="14"/>
                        </Border>

                        <!-- Batch Steps DataGrid -->
                        <DataGrid Grid.Row="1" 
                                ItemsSource="{Binding BatchSteps}" 
                                Style="{StaticResource ModernDataGridStyle}">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Step" 
                                                  Binding="{Binding StepSequence}" 
                                                  Width="50"/>
                                <DataGridTextColumn Header="Operation" 
                                                  Binding="{Binding OperationType}" 
                                                  Width="120"/>
                                <DataGridTextColumn Header="Preset" 
                                                  Binding="{Binding FormattedAmountPreset}" 
                                                  Width="80"/>
                                <DataGridTextColumn Header="Actual" 
                                                  Binding="{Binding FormattedAmountActual}" 
                                                  Width="80"/>
                                <DataGridTextColumn Header="Difference" 
                                                  Binding="{Binding FormattedAmountDifference}" 
                                                  Width="100"/>
                                <DataGridTextColumn Header="Time" 
                                                  Binding="{Binding FormattedTimeActual}" 
                                                  Width="80"/>
                                <DataGridTextColumn Header="Status" 
                                                  Binding="{Binding StepStatus}" 
                                                  Width="80"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Border>

                <!-- Batch Ingredients -->
                <Border Grid.Row="2" Background="White" BorderBrush="#E0E0E0" BorderThickness="1" Margin="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Batch Ingredients Header -->
                        <Border Grid.Row="0" Background="#F5F5F5" Padding="15,10">
                            <TextBlock Text="Batch Ingredients" 
                                     FontWeight="SemiBold" 
                                     FontSize="14"/>
                        </Border>

                        <!-- Batch Ingredients DataGrid -->
                        <DataGrid Grid.Row="1" 
                                ItemsSource="{Binding BatchIngredients}" 
                                Style="{StaticResource ModernDataGridStyle}">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Ingredient" 
                                                  Binding="{Binding IngredientName}" 
                                                  Width="150"/>
                                <DataGridTextColumn Header="Operation" 
                                                  Binding="{Binding OperationNumber}" 
                                                  Width="80"/>
                                <DataGridTextColumn Header="Preset Amount" 
                                                  Binding="{Binding PresetAmount, StringFormat='{}{0:F2} L'}" 
                                                  Width="100"/>
                                <DataGridTextColumn Header="Actual Amount" 
                                                  Binding="{Binding ActualAmount, StringFormat='{}{0:F2} L'}" 
                                                  Width="100"/>
                                <DataGridTextColumn Header="Difference" 
                                                  Binding="{Binding AmountDifference, StringFormat='{}{0:F2} L'}" 
                                                  Width="100"/>
                                <DataGridTextColumn Header="Unit" 
                                                  Binding="{Binding Unit}" 
                                                  Width="60"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Border>
            </Grid>
        </Grid>

        <!-- Status Bar -->
        <Border Grid.Row="3" Background="#F5F5F5" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0" Padding="20,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="System: Ringwood RS3000" 
                             FontSize="11" 
                             Foreground="#666666" 
                             VerticalAlignment="Center"/>
                    <TextBlock Text="|" 
                             FontSize="11" 
                             Foreground="#CCCCCC" 
                             Margin="10,0" 
                             VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding LoadingMessage}" 
                             FontSize="11" 
                             Foreground="#666666" 
                             VerticalAlignment="Center"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <TextBlock Text="Generated: " 
                             FontSize="11" 
                             Foreground="#666666" 
                             VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding Source={x:Static sys:DateTime.Now}, StringFormat='{}{0:yyyy-MM-dd HH:mm:ss}'}" 
                             FontSize="11" 
                             Foreground="#666666" 
                             VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Loading Overlay -->
        <Border Grid.RowSpan="4" 
              Background="#80000000" 
              Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}">
            <Grid>
                <Border Background="White" 
                      CornerRadius="8" 
                      Padding="30" 
                      HorizontalAlignment="Center" 
                      VerticalAlignment="Center">
                    <StackPanel>
                        <ProgressBar Style="{StaticResource ModernProgressBarStyle}" 
                                   Width="200" 
                                   IsIndeterminate="True" 
                                   Margin="0,0,0,15"/>
                        <TextBlock Text="{Binding LoadingMessage}" 
                                 FontSize="14" 
                                 HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <!-- Report Generation Overlay -->
        <Border Grid.RowSpan="4" 
              Background="#80000000" 
              Visibility="{Binding IsReportGenerating, Converter={StaticResource BooleanToVisibilityConverter}}">
            <Grid>
                <Border Background="White" 
                      CornerRadius="8" 
                      Padding="30" 
                      HorizontalAlignment="Center" 
                      VerticalAlignment="Center">
                    <StackPanel>
                        <ProgressBar Value="{Binding ReportGenerationProgress}" 
                                   Style="{StaticResource ModernProgressBarStyle}" 
                                   Width="300" 
                                   Margin="0,0,0,15"/>
                        <TextBlock Text="{Binding ReportGenerationStatus}" 
                                 FontSize="14" 
                                 HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding ReportGenerationProgress, StringFormat='{}{0:F0}%'}" 
                                 FontSize="12" 
                                 HorizontalAlignment="Center" 
                                 Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <!-- Error Message -->
        <Border Grid.RowSpan="4" 
              Background="#F44336" 
              Padding="20,15" 
              HorizontalAlignment="Stretch" 
              VerticalAlignment="Top" 
              Margin="20,100,20,0" 
              CornerRadius="4" 
              Visibility="{Binding HasError, Converter={StaticResource BooleanToVisibilityConverter}}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" 
                         Text="{Binding ErrorMessage}" 
                         Foreground="White" 
                         FontSize="14" 
                         TextWrapping="Wrap"/>
                <Button Grid.Column="1" 
                      Content="âœ•" 
                      Background="Transparent" 
                      Foreground="White" 
                      BorderThickness="0" 
                      Command="{Binding ClearErrorCommand}" 
                      FontSize="16" 
                      FontWeight="Bold" 
                      Padding="8,4" 
                      Margin="10,0,0,0"/>
            </Grid>
        </Border>
    </Grid>
</Window>
